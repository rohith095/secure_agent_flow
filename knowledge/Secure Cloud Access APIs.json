{"openapi":"3.0.3","info":{"title":"Secure Cloud Access (SCA) APIs","description":"Secure Cloud Access (SCA) APIs for operations related to:   \n- Policy  \n    - This API is relevant for tenants that use the SCA Policies API. For tenants that require the Access Control Policies API, see [Access control policies APIs](https://api-docs.cyberark.com/uap-schema-api/). If you are not sure which to use, contact your CyberArk tenant administrator.  \n    - Some of the methods of this API have 2 versions. The later version, 2.0, is recommended for ease of use. \n- Access\n- Authentication\n- Cloud scans\n- Integration\n- Web app creation\n- On-demand approval configuration","contact":{"name":"SCA Group"},"version":"main-public"},"servers":[{"url":"https://{tenant_name}.sca.cyberark.cloud/api","description":"SCA Base URL for production","variables":{"tenant_name":{"default":""}},"x-internal":false},{"url":"https://virtserver.swaggerhub.com/CyberArk/sca-api/main","description":"SwaggerHub API Auto Mocking","x-internal":false}],"tags":[{"name":"Policies","description":"This API enables you to perform SCA policy-related operations.  \nFor example, you can programmatically create, update, or delete a policy.<br>  \n**Note:** For policies managed in the Administration space, we recommend using the [Access control policies APIs](https://api-docs.cyberark.com/uap-schema-api/).\n"},{"name":"Access","description":"This API enables you to access cloud resources, view active sessions, and\nrevoke sessions in SCA.\n"},{"name":"Authentication","description":"This API enables you to authenticate to ISPSS and  receive a working token\nthat can be used by other APIs.\n"},{"name":"Cloud scan","description":"This API enables you to perform SCA cloud-related operations.  \nFor example, you can programmatically start a scan operation.\n"},{"name":"Integration","description":"This API enables you to perform SCA infrastructure operations.\n"},{"name":"Web app creation","description":"This API enables you to create web apps for accessing your cloud environments securely through CyberArk.\n"}],"paths":{"/policies":{"get":{"tags":["Policies"],"summary":"Query policies","description":"Returns a list of policies based on the requested filters.","operationId":"query-policies","parameters":[{"name":"status","in":"query","description":"Filter on policies that have a specific status\n\nSupported values:\n\n Active = 1, Expired = 3, Error = 4, Validating = 6","required":false,"schema":{"type":"number","enum":[1,3,4,6]}},{"name":"free_text","in":"query","description":"Search for free text in the supported policy fields:\n\nName, description, entity name, organization ID,  cloud provider, status, account name","required":false,"schema":{"type":"string"}},{"name":"cloud_provider","in":"query","description":"Filter by the cloud provider that the policy applies to\n\nSupported values:\n\nAWS (IAM) = 0, Google Cloud = 1, Azure (resource) = 2, AWS (IAM Identity Center) = 3, Azure (Microsoft Entra ID) = 4","required":false,"schema":{"type":"number","enum":[0,1,2,3,4]}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"$ref":"#/components/responses/List-Of-Policies"},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"500":{"$ref":"#/components/responses/InternalServerError-GetPolicyAndQueryPolicies"}},"security":[{"bearerOAuth":[]}]},"post":{"tags":["Policies"],"summary":"Create a policy","description":"Creates a user access policy in Secure Cloud Access.\n\n**Note:** There are 2 versions of this method. For ease of use, we recommend using the latest version, 2.0.","operationId":"create-policy","parameters":[{"name":"X-API-Version","in":"header","description":"2.0:(Recommended) This version returns a job ID, which can be used to check the job status at your convenience (asynchronous).  \n1.0: This version returns the job status when the job completes (synchronous). ","required":false,"schema":{"type":"string","enum":["1.0","2.0"]}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/Create-Policy-v1"},"responses":{"200":{"$ref":"#/components/responses/CreatePolicyV1-Response"},"400":{"$ref":"#/components/responses/InputError-CreatePolicy"},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"500":{"$ref":"#/components/responses/InternalServerError-CreatePolicy"}},"security":[{"bearerOAuth":[]}]}},"/policies/{policy_id}":{"get":{"tags":["Policies"],"summary":"Get policy details","description":"Retrieves detailed information about a specific policy identified by the `policy_id` parameter. It returns a structured response containing the policy's key attributes and related metadata.\n**Note:** There are two versions of this method. For ease of use, we recommend using the latest version, 2.0.","operationId":"get-policy","parameters":[{"name":"X-API-Version","in":"header","description":"Supported values:\n\n- 2.0: (Recommended) Use when working with version 2\n- 1.0: Use when working with version 1","required":false,"schema":{"type":"string","enum":["1.0","2.0"]}},{"name":"policy_id","in":"path","description":"The ID of the policy whose details you want to retrieve","required":true,"schema":{"type":"string"}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"$ref":"#/components/responses/Get-Policy-Response"},"401":{"description":"You dont have the appropriate permission, or you used an invalid token."},"404":{"description":"Not Found \n\nThe specified policy couldn't be found. Make sure the ID is correct and try again."},"500":{"$ref":"#/components/responses/InternalServerError-GetPolicyAndQueryPolicies"}},"security":[{"bearerOAuth":[]}]},"put":{"tags":["Policies"],"summary":"Edit a policy","description":"Updates an existing policy.","operationId":"edit-policy","parameters":[{"name":"X-API-Version","in":"header","description":"Supported values:\n- 2.0: (Recommended) Use when working with version 2\n- 1.0: Use when working with version 1","required":false,"schema":{"type":"string","enum":["1.0","2.0"]}},{"name":"policy_id","in":"path","description":"The ID of the policy to be edited.","required":true,"schema":{"type":"string"}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/Edit-Policy"},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_200"}}}},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"404":{"description":"Not Found \n\nThe specified policy couldn't be found. Make sure the ID is correct and try again."},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_500"},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"1101","headerMessage":"We couldn't apply your changes","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"ffab89bd-6c4a-4f9d-8101-5a5ae08e2a6a","uiType":3,"debug_info":[{"name":"POLICY_CREATE_STARTED","status":"Failure","error_code":"1101","reason":"Please try again in a few minutes. If that doesn't work, contact CyberArk support."}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"1101","headerMessage":"We couldn't apply your changes","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"ffab89bd-6c4a-4f9d-8101-5a5ae08e2a6a","uiType":3}}}}}}},"security":[{"bearerOAuth":[]}]},"delete":{"tags":["Policies"],"summary":"Remove a policy","description":"Moves the policy to archive mode.","operationId":"remove-policy","parameters":[{"name":"X-API-Version","in":"header","description":"Supported values: 1.0 (Default)","required":false,"schema":{"type":"string","enum":["1.0","2.0"]}},{"name":"policy_id","in":"path","description":"The ID of the policy to be removed.","required":true,"schema":{"type":"string"}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successful response","content":{"text/html":{"schema":{"type":"string","description":"The policy was removed."},"example":"Removed"}}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found \n\nThe specified policy couldn't be found. Make sure the ID is correct and try again."},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_500_1"},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"1107","headerMessage":"Oops! We couldn't remove permissions from Identity WebApp.","bodyMessage":"The WebApp may appear to the end users, but as long as Secure Cloud Access is enabled - they will not get just-in-time access to the cloud resources.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"debug_info":[{"name":"POLICY_REMOVE_IDENTITY","status":"Failure","error_code":"1107","reason":"The WebApp may appear to the end users, but as long as Secure Cloud Access is enabled - they will not get just-in-time access to the cloud resources."}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"1107","headerMessage":"Oops! We couldn't remove permissions from Identity WebApp.","bodyMessage":"The WebApp may appear to the end users, but as long as Secure Cloud Access is enabled - they will not get just-in-time access to the cloud resources.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3}}}}}}},"security":[{"bearerOAuth":[]}]}},"/policies/{policy_id}/status":{"get":{"tags":["Policies"],"summary":"Get policy status","description":"Returns the status of the policy.","operationId":"get-status","parameters":[{"name":"policy_id","in":"path","required":true,"schema":{"type":"string"}},{"name":"policy_id","in":"query","description":"The ID of the requested policy.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"text/plain":{"schema":{"type":"integer","description":"The status of the policy.\n\nSupported values: \n\n- 1 = The policy is active\n\n- 3 = The policy has expired\n\n- 4 = There is an error in the policy\n\n- 6 = The policy is currently being validated"},"example":1}}},"401":{"description":"Unauthorized"},"404":{"description":"Not Found \n\nThe specified policy couldn't be found. Make sure the ID is correct and try again."},"500":{"description":"Internal Server Error"}},"security":[{"bearerOAuth":[]}]}},"/policies/discovery":{"post":{"tags":["Policies"],"summary":"Discover updates to your onboarded workspace","description":"Starts a discovery of a workspace's structure. Once the discovery is complete, the method automatically runs a scan on the workspace for roles/permission sets and resources.\nFor details about workload discovery and scans, see our [terminology reference](https://docs.cyberark.com/sca/latest/en/content/cloudadmin/cv-terminology.htm).\nNote: To run a scan on the onboarded workspace, without first running a discovery, use the /cloud/rescan API. For details, see the [General Cloud Activity API](#/cloud/rescan).","operationId":"discovery","parameters":[{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/Discovery"},"responses":{"200":{"$ref":"#/components/responses/Discovery"},"400":{"$ref":"#/components/responses/Discovery400"},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"500":{"description":"Internal Server Error"}},"security":[{"bearerOAuth":[]}]}},"/policies/validate":{"post":{"tags":["Policies"],"summary":"Validate a policy","description":"Triggers a validation process for the specified access policy.","operationId":"validate","parameters":[{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/Validate"},"responses":{"200":{"$ref":"#/components/responses/Validate"},"400":{"description":"Input error"},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"403":{"description":"You don't have permission to access this resource."},"404":{"description":"Policy not found"},"500":{"$ref":"#/components/responses/InternalServerError-Validate"}},"security":[{"bearerOAuth":[]}]}},"/policies/create-policy":{"post":{"tags":["Policies"],"summary":"Create policy","description":"Creates a user access policy in Secure Cloud Access.","operationId":"create-policy-v2","parameters":[{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** : false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/Create-Policy-v2"},"responses":{"200":{"$ref":"#/components/responses/CreatePolicyV2-Response"},"400":{"$ref":"#/components/responses/InputError-CreatePolicy"},"401":{"description":"You don't have the appropriate permission, or you used an invalid token."},"500":{"$ref":"#/components/responses/InternalServerError-CreatePolicy"}},"security":[{"bearerOAuth":[]}]}},"/access/{csp}/eligibility":{"get":{"tags":["Access"],"summary":"List targets you're eligible to access","description":"Returns a list of targets for the specified cloud provider that you're eligible to access.","operationId":"get-access-csp-eligibility","parameters":[{"name":"csp","in":"path","description":"The cloud provider for which to list the targets that you're eligible to access.","required":true,"schema":{"type":"string","enum":["AWS","AZURE","GCP"]}},{"name":"limit","in":"query","description":"The maximum number of targets to list in the response.<br>You can list up to 50 targets.","required":false,"schema":{"maximum":50,"minimum":1,"exclusiveMinimum":false,"type":"integer"}},{"name":"nextToken","in":"query","description":"The token from the previous API response.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/GetEligibleAccessResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/{csp}/eligibility/groups":{"get":{"tags":["Access"],"summary":"List groups for which you're eligible to request just-in-time membership","description":"Returns a list of groups, hosted in the the specified cloud provider, for which you're eligible to request just-in-time membership.","operationId":"get-access-csp-eligibility-groups","parameters":[{"name":"csp","in":"path","description":"The cloud provider that hosts the groups for which you are eligible to request just-in-time membership.","required":true,"schema":{"type":"string","enum":["AZURE"]}},{"name":"limit","in":"query","description":"The maximum number of groups to list in the response.  \nYou can list up to 50 groups.\n","required":false,"schema":{"maximum":50,"minimum":1,"exclusiveMinimum":false,"type":"integer"}},{"name":"nextToken","in":"query","description":"The token from the previous API response.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/GetGroupsEligibleAccessResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/elevate":{"post":{"tags":["Access"],"summary":"Elevate access","description":"Initiates access elevation to one or more targets. Each target defines the workspace and role for which elevated access is requested.","operationId":"post-access-elevate","requestBody":{"$ref":"#/components/requestBodies/ElevateAccessRequest"},"responses":{"200":{"$ref":"#/components/responses/ElevateAccessResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/elevate/groups":{"post":{"tags":["Access"],"summary":"Get just-in-time membership for groups","description":"Request just-in-time membership for one or more groups.  \nEach target defines the group for which elevated access is being requested.\n","operationId":"post-access-elevate-groups","requestBody":{"$ref":"#/components/requestBodies/GroupElevateAccessRequest"},"responses":{"200":{"description":"Successful elevation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupsElevateAccessResult"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/sessions":{"get":{"tags":["Access"],"summary":"Get active sessions","description":"Returns a list of all active sessions.<br><br><b>Note: </b>This operation is available only to users with the CS Admin role.","operationId":"get-access-sessions","parameters":[{"name":"csp","in":"query","description":"The cloud provider for which to list active sessions.","required":false,"schema":{"type":"string","enum":["AWS","AZURE","GCP"]}},{"name":"limit","in":"query","description":"The maximum number of active sessions to list.","required":false,"schema":{"maximum":50,"minimum":1,"type":"integer"}},{"name":"nextToken","in":"query","description":"The token from the previous API response.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/GetActiveSessionsResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/users/{userId}/sessions":{"get":{"tags":["Access"],"summary":"Get active sessions for user","description":"Returns a list of the selected user's active sessions.<br>To list your own sessions, use \"my\" or \"actual user id\" in the userID parameter.<br><br><b>Note: </b>Only users with the CS Admin role can list the sessions of any user. If you don't have the CS Admin role, you can list your own sessions only.","operationId":"get-access-user-id-sessions","parameters":[{"name":"userId","in":"path","description":"The user whose active sessions should be listed.","required":true,"schema":{"type":"string"}},{"name":"csp","in":"query","description":"The cloud provider for which to list active sessions.","required":false,"schema":{"type":"string","enum":["AWS","AZURE","GCP"]}},{"name":"limit","in":"query","description":"The maximum number of active sessions to return.","required":false,"schema":{"maximum":50,"minimum":1,"type":"integer"}},{"name":"nextToken","in":"query","description":"The token from the previous API response.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/GetActiveSessionsResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/sessions/revoke":{"post":{"tags":["Access"],"summary":"Revoke sessions by session ID","description":"Revokes one or more sessions by their session IDs.<br><br><b>Note: </b> Only users with the CS Admin role can revoke sessions for any user. If you don't have the CS Admin role, you can revoke your own sessions only.","operationId":"post-access-sessions-revoke","requestBody":{"$ref":"#/components/requestBodies/RevokeSessionsByIdsRequest"},"responses":{"200":{"$ref":"#/components/responses/RevokeSessionsByIdsResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/access/users/{userId}/sessions/revoke":{"post":{"tags":["Access"],"summary":"Revoke a user's sessions","description":"Revokes all the sessions of the specified user.<br>To revoke your own sessions, use \"my\" or \"actual user id\" as the userID parameter.<br><br><b>Note: </b>Only users with the CS Admin role can revoke sessions for any user. If you don't have the CS Admin role, you can revoke your own sessions only.","operationId":"post-access-sessions-user-id-revoke","parameters":[{"name":"userId","in":"path","description":"The user whose active sessions are to be revoked.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/RevokeSessionsOfUserResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/oauth2/token/{app_id}":{"post":{"tags":["Authentication"],"summary":"Generate a public access token","description":"Generate a public access token","operationId":"public-access-token","parameters":[{"name":"app_id","in":"path","description":"The web app identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/token_app_id_body"}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessToken"}}}},"401":{"description":"Unauthorized"}},"security":[{"UserPassBasicAuth":[]}]}},"/cloud/rescan":{"post":{"tags":["Cloud scan"],"summary":"Initiate scan of onboarded workspace for roles and resources","description":"Start a scan on the cloud resources. This operation is asynchronous, and returns a job identifier. The /integration/status API can be used to pull the job status","operationId":"initiate-scan","parameters":[{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n**Default** :  false","required":false,"schema":{"type":"boolean"}}],"requestBody":{"$ref":"#/components/requestBodies/ScanRequestBody"},"responses":{"200":{"$ref":"#/components/responses/ScanResponse"},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_500_1"},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"CC1021","headerMessage":"Scan error","bodyMessage":"Scan operation failed. Try to run the scan again. If that doesn't work, contact CyberArk support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"debug_info":[{"name":"RESCAN_STARTED","status":"Failure","error_code":"CC1021","reason":"While running the scan, an internal error occurred when trying to create new index"}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"CC1021","headerMessage":"Scan error","bodyMessage":"Scan operation failed. Try to run the scan again. If that doesn't work, contact CyberArk support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3}}}}}}},"security":[{"bearerOAuth":[]}]}},"/integrations/status":{"get":{"tags":["Integration"],"summary":"Get job status","description":"Returns the status of a job that was created by an \"async\" API call (e.g. /cloud/rescan).","operationId":"get-job-status","parameters":[{"name":"jobId","in":"query","description":"The ID of the requested job","required":false,"schema":{"type":"string"}},{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** : false","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"$ref":"#/components/responses/JobStatus"},"400":{"description":"Missing jobId parameter"},"404":{"description":"Job Not Found"},"500":{"description":"Internal Server Error"}},"security":[{"bearerOAuth":[]}]}},"/onboarding/apps":{"post":{"tags":["Web app creation"],"summary":"Create web app","description":"Create a web app to connect to a cloud environment.  \nYou can create web apps to connect to:  \n1. A standalone AWS account\n2. Multiple AWS accounts that are part of an AWS organization\n3. AWS IAM Identity Center\n4. Azure Microsoft Entra ID\n5. Google Cloud","operationId":"web-app-creation","parameters":[{"name":"Authorization","in":"header","description":"The Base64-encoded token that identifies the session.","required":false,"schema":{"type":"string"}}],"requestBody":{"$ref":"#/components/requestBodies/SimplifiedOnboardingRequestBody"},"responses":{"200":{"description":"Success - returns a job ID (job_id)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimplifiedOnboardingPublicResponse"},"examples":{"Example":{"value":{"job_id":"475e401c-4c00-45a0-ac14-376ed696feaf"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_500_1"},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"CC1069","headerMessage":"Bad Request","bodyMessage":"Your request failed due to an input validation error.","correlationId":"af52c335-aaa8-4ec2-8437-e3a4f793ad88","uiType":3,"innerError":"Input should be 'AWS IAM', 'AWS IdC', 'GCP or 'Azure'","debug_info":[{"name":"VALIDATION","status":"Failure","error_code":"CC1069","reason":"Input should be 'AWS IAM', 'AWS IdC', 'GCP or 'Azure'"}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"CC1069","headerMessage":"Bad Request","bodyMessage":"Your request failed due to an input validation error.","correlationId":"af52c335-aaa8-4ec2-8437-e3a4f793ad88","uiType":3,"innerError":"Input should be 'AWS IAM', 'AWS IdC', 'GCP', or 'Azure'"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_401"},"examples":{"Example":{"value":{"message":"Unauthorized"}}}}}},"403":{"description":"Forbidden","content":{"text/plain":{"schema":{"type":"string"},"examples":{"Example":{"value":"The user doesn't have the required permissions to access this resource."}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_401"},"examples":{"Example":{"value":{"message":"Please try again in a few minutes. If that doesn't work, contact CyberArk support."}}}}}}}}},"/on-demand/config":{"get":{"tags":["On-demand approval configuration"],"summary":"Get on-demand approval settings","description":"Get details about the request approval configuration, that is, which channel is used and whose requests are considered for approvals","operationId":"get-approval-config","parameters":[{"name":"Authorization","in":"header","description":"The Base64-encoded token that identifies the session.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/GetApprovalConfigResponse"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"Bad Request":{"value":{"code":"400","message":"Bad Request","description":"Bad Request"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_401"},"examples":{"Unauthorized ":{"value":{"message":"Unauthorized"}}}}}},"403":{"description":"Forbidden","content":{"text/plain":{"schema":{"type":"string"},"examples":{"Forbidden":{"value":"The user doesn't have allowed roles to access this resource"}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"Internal server error":{"value":{"code":"1001","message":"Oops! Something went wrong","description":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","errors":[]}}}}}}},"security":[{"bearerOAuth":[]}]},"patch":{"tags":["On-demand approval configuration"],"summary":"Configure on-demand approval settings","description":"Configure the request approval channel and whose requests should be considered for approval.","operationId":"set-approval-config","parameters":[{"name":"Authorization","in":"header","description":"The Base64-encoded token that identifies the session.","required":false,"schema":{"type":"string"}}],"requestBody":{"$ref":"#/components/requestBodies/ApprovalConfigRequestBody"},"responses":{"200":{"description":"Success - empty response","content":{"text/plain":{"schema":{"type":"string","description":"Empty response body"},"example":""}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"Error response when required field is missing":{"value":{"code":"OD1044","message":"We couldn't send your request","description":"Some of the data you provided isn't valid. Please review the information and try again. If that doesn't work, contact your administrator.","errors":[]}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_401"},"examples":{"Unauthorized ":{"value":{"message":"Unauthorized"}}}}}},"403":{"description":"Forbidden","content":{"text/plain":{"schema":{"type":"string"},"examples":{"Forbidden":{"value":"The user doesn't have allowed roles to access this resource"}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"Internal server error":{"value":{"code":"1001","message":"Oops! Something went wrong","description":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","errors":[]}}}}}}},"security":[{"bearerOAuth":[]}]}}},"components":{"schemas":{"Create-Policy-v2":{"type":"object","properties":{"name":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!^[{}.+-\\]$\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) The date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)"},"endDate":{"type":"string","description":"(Optional) The date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)"},"csp":{"type":"string","description":"The cloud environment that the policy applies to ('AWS','GCP','AZURE')"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv2_roles"}},"identities":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv2_identities"}},"accessRules":{"$ref":"#/components/schemas/CreatePolicyv2_accessRules"}},"x-examples":{"Create AWS IAM policy - AWS account":{"csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2021-07-12T00:00:00.000Z","endDate":"2021-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123451234567:role/ExampleRole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D@domain.com","entitySourceId":"ABCD1234-ABC1-123A-AB12-65256D55B06D","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}},"Get-Policy-v2":{"type":"object","properties":{"policyId":{"type":"string","description":"The unique ID of the policy"},"csp":{"type":"string","description":"The cloud environment that the policy applies to\n\nSupported values:\n\nAWS = 'AWS', Google Cloud = 'GCP', Azure = 'AZURE'"},"name":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!^[{}.+-\\]$\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)","nullable":true},"endDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-07-15T00:00:00.000Z)","nullable":true},"policyType":{"type":"string","description":"Supported values: 'pre_defined' and 'on_demand'"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/GetPolicyv2_roles"}},"identities":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv2_identities"}},"accessRules":{"$ref":"#/components/schemas/CreatePolicyv2_accessRules"}},"x-examples":{"Get AWS IAM policy - AWS account":{"policyId":"aws_abcd1234-e792-4b50-b5d5-34e39c1553fa","csp":"AWS","name":"policy for dev ops group","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","policy_type":"pre_defined","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"1234ABCD-123A-465F-AB03-65566D33B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}},"Edit-Policy-v2":{"type":"object","properties":{"name":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!^[{}.+-\\]$\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) The date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)","nullable":true},"endDate":{"type":"string","description":"(Optional) The date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)","nullable":true},"roles":{"type":"array","items":{"$ref":"#/components/schemas/EditPolicyv2_roles"}},"identities":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv2_identities"}},"accessRules":{"$ref":"#/components/schemas/EditPolicyv2_accessRules"}},"x-examples":{"Edit AWS IAM policy - AWS account":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"123A567B-6AB8-123F-AB03-65766D33B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}},"RoleInfo":{"title":"RoleInfo","required":["id","name"],"type":"object","properties":{"id":{"type":"string","description":"The ID of the role."},"name":{"type":"string","description":"The name of the role."}},"description":"The role with which you're eligible to access the workspace."},"CommonEligibleTarget":{"title":"CommonEligibleTarget","required":["role","workspaceId"],"type":"object","properties":{"workspaceId":{"type":"string","description":"The ID of the workspace."},"workspaceName":{"maxLength":255,"type":"string","description":"The name of the workspace."},"role":{"$ref":"#/components/schemas/RoleInfo"}}},"AWSAccountEligibleTarget":{"title":"AWSAccountEligibleTarget","description":"A standalone AWS account.","allOf":[{"required":["workspaceType"],"type":"object","properties":{"workspaceType":{"type":"string","description":"The type of workspace.","enum":["ACCOUNT"]}}},{"$ref":"#/components/schemas/CommonEligibleTarget"}]},"AWSOrgAccountEligibleTarget":{"title":"AWSOrgAccountEligibleTarget","description":"An AWS account that is part of an AWS organization.","allOf":[{"required":["organizationId","workspaceType"],"type":"object","properties":{"organizationId":{"type":"string","description":"The ID of the organization that contains the account that you're eligible to access."},"workspaceType":{"type":"string","description":"The type of workspace.","enum":["ACCOUNT"]}}},{"$ref":"#/components/schemas/CommonEligibleTarget"}]},"GCPEligibleTarget":{"title":"GCPEligibleTarget","description":"A project that is part of a GCP organization.","allOf":[{"required":["organizationId","workspaceType"],"type":"object","properties":{"organizationId":{"type":"string","description":"The ID of the organization that contains the project that you're eligible to access."},"workspaceType":{"type":"string","description":"The type of workspace.","enum":["PROJECT","FOLDER","GCP_ORGANIZATION"]}}},{"$ref":"#/components/schemas/CommonEligibleTarget"}]},"AzureEligibleTarget":{"title":"AzureEligibleTarget","description":"A management group, subscription, resource group, or resource that is part of a Microsoft Entra ID tenant.","allOf":[{"required":["organizationId","workspaceType"],"type":"object","properties":{"organizationId":{"type":"string","description":"The ID of the Entra ID tenant that you're eligible to access."},"workspaceType":{"type":"string","description":"The type of workspace.","enum":["RESOURCE","RESOURCE_GROUP","SUBSCRIPTION","MANAGEMENT_GROUP","DIRECTORY"]}}},{"$ref":"#/components/schemas/CommonEligibleTarget"}]},"EligibleTarget":{"title":"EligibleTarget","description":"The targets that you're eligible to access.","oneOf":[{"$ref":"#/components/schemas/AWSAccountEligibleTarget"},{"$ref":"#/components/schemas/AWSOrgAccountEligibleTarget"},{"$ref":"#/components/schemas/GCPEligibleTarget"},{"$ref":"#/components/schemas/AzureEligibleTarget"}]},"GroupsEligibleTarget":{"required":["directoryId","groupId","groupName"],"type":"object","properties":{"directoryId":{"type":"string","description":"The ID of the directory that contains the group"},"groupId":{"type":"string","description":"The ID of the group"},"groupName":{"type":"string","description":"The name of the group"}},"description":"Details of the group"},"BaseTarget":{"title":"BaseTarget","required":["workspaceId"],"type":"object","properties":{"workspaceId":{"type":"string","description":"The ID of the workspace to which access is being requested.<br><b>Note: </b>\n- The workspace ID for all GCP targets must be the same\n- The workspace ID for all Azure targets must be the same."}}},"TargetWithRoleId":{"allOf":[{"$ref":"#/components/schemas/BaseTarget"},{"required":["id"],"type":"object","properties":{"roleId":{"type":"string","description":"The ID of the role with which you're eligible to access the target. <br><b>Note:</b> Provide either the role ID or role name, but not both."}}}]},"TargetWithGroupId":{"required":["groupId"],"type":"object","properties":{"groupId":{"type":"string","description":"The ID of the group ."}}},"TargetWithRoleName":{"allOf":[{"$ref":"#/components/schemas/BaseTarget"},{"required":["id"],"type":"object","properties":{"roleName":{"type":"string","description":"The name of the role with which you're eligible to access the target.<br><b>Note:</b> Provide either the role name or role ID, but not both."}}}]},"ElevateTargetAccessResult":{"title":"ElevateTargetAccessResult","required":["roleId","workspaceId"],"type":"object","properties":{"workspaceId":{"type":"string","description":"The ID of the workspace to which access is being granted."},"roleId":{"type":"string","description":"The ID of the role with which access is granted."},"sessionId":{"type":"string","description":"The ID of the created session.<br>This value is displayed if access is elevated successfully."},"accessCredentials":{"type":"string","description":"The credentials used to access the workspace once the elevation is successful.<br>This value is displayed only if access is elevated successfully. Relevant only for specific cloud providers."},"errorInfo":{"$ref":"#/components/schemas/ErrorInfo"}}},"GroupsElevateTargetAccessResult":{"title":"GroupsElevateTargetAccessResult","required":["groupId"],"type":"object","properties":{"groupId":{"type":"string","description":"The ID of the group"},"sessionId":{"type":"string","description":"The ID of the created session."}}},"ErrorInfo":{"title":"ErrorInfo","required":["code","description","message"],"type":"object","properties":{"code":{"maxLength":99,"type":"string","description":"The code that identifies the error."},"message":{"maxLength":255,"type":"string","description":"A short message about the error."},"description":{"maxLength":1000,"type":"string","description":"The details of the error."},"link":{"maxLength":255,"type":"string","description":"Link to documentation that provides more context and information about the error."}},"description":"A message that describes the reason for elevation failing.<br>Displayed only if the elevation process failed."},"ElevateAccessResult":{"title":"ElevateAccessResult","required":["csp","results"],"type":"object","properties":{"organizationId":{"type":"string","description":"The ID of the organization that contains workspaces you want to access.<br>Not relevant for standalone AWS accounts."},"csp":{"type":"string","description":"The cloud provider for which to list targets with elevated access.","enum":["AWS","AZURE","GCP"]},"results":{"maxItems":5,"minItems":1,"type":"array","description":"The results of access elevation to targets.","items":{"$ref":"#/components/schemas/ElevateTargetAccessResult"}}},"description":"The elevated sessions."},"GroupsElevateAccessResult":{"title":"GroupsElevateAccessResult","required":["csp","results"],"type":"object","properties":{"directoryId":{"type":"string","description":"The ID of the directory that contains the groups."},"csp":{"type":"string","description":"The cloud provider that hosts the groups.","enum":["AZURE"]},"results":{"maxItems":5,"minItems":1,"type":"array","description":"The list of groups to which you were granted just-in-time membership","items":{"$ref":"#/components/schemas/GroupsElevateTargetAccessResult"}}},"description":"The groups to which you were granted just-in-time membership."},"SessionInfo":{"title":"SessionInfo","required":["csp","roleId","sessionDuration","sessionId","userId","workspaceId"],"type":"object","properties":{"sessionId":{"type":"string","description":"The unique ID of the active session."},"userId":{"type":"string","description":"The ID of the user for whom the session was created."},"csp":{"type":"string","description":"The cloud provider that hosts the workspace for which the session was created.","enum":["AZURE","AWS","GCP"]},"workspaceId":{"type":"string","description":"The ID of the workspace for which the session was created. "},"roleId":{"type":"string","description":"The ID of the role that defines permissions available for the session."},"sessionDuration":{"type":"integer","description":"The duration of the session, in seconds.","example":3600},"target":{"$ref":"#/components/schemas/target"}}},"target":{"title":"target","required":["id","type"],"properties":{"id":{"type":"string","description":"The unique ID of the target."},"type":{"type":"string","description":"The type of the target.","enum":["groups","cloud_console"]}}},"SessionRevocationInfo":{"title":"SessionRevocationInfo","required":["revocationStatus","sessionId"],"type":"object","properties":{"sessionId":{"type":"string","description":"The session ID."},"revocationStatus":{"type":"string","description":"The status of the session being revoked.","enum":["SUCCESSFULLY_REVOKED","REVOCATION_IN_PROGRESS"]}}},"ErrorDetails":{"title":"ErrorDetails","required":["code","message"],"type":"object","properties":{"code":{"maxLength":99,"type":"string","description":"The code that identifies the error."},"message":{"maxLength":255,"type":"string","description":"A short message about the error."},"field":{"maxLength":1000,"type":"string","description":"The details of the error."}},"description":"Information about a specific error."},"ErrorResponse":{"title":"ErrorResponse","required":["code","description","message"],"type":"object","properties":{"code":{"maxLength":99,"type":"string","description":"The code that identifies the error."},"message":{"maxLength":255,"type":"string","description":"A short message about the error."},"description":{"maxLength":1000,"type":"string","description":"The details of the error."},"errors":{"type":"array","description":"Link to documentation that provides more context and information about the error.","items":{"$ref":"#/components/schemas/ErrorDetails"}}},"description":"A message that describes the reason for API call failure."},"AccessToken":{"type":"object","properties":{"access_token":{"type":"string"},"token_type":{"type":"string"},"expires_in":{"type":"integer"},"scope":{"type":"string"}},"example":{"access_token":"***ACCESS TOKEN HERE***","token_type":"Bearer","expires_in":900,"scope":"full","EntityId":{"type":"object","properties":{"org_id":{"type":"string"},"account_id":{"type":"string"}},"required":["account_id"],"description":"Cloud entity ID"}}},"ScanRequest":{"type":"object","properties":{"cloudProvider":{"type":"integer","description":"The cloud environment that the scan applies to. Supported values: AWS = 0, Google Cloud = 1, Azure = 2"},"accountType":{"type":"string","description":"Type of the scan. 'All' for all accounts, 'Specific' for specific accounts"},"entityIds":{"type":"array","description":"List of IDs of what should be scanned when accountType is 'Specific'\n\nAWS standalone account: The AWS account ID (for example, [{\"account_id\": \"123456789012\"}])\n\nAWS account in an organization: The organization ID (management account ID) and account ID of the account in that organization (for example, [{\"org_id\": \"098765432109\", \"account_id\": \"123456789012\"}])\n\nGoogle Cloud project: The GCP organization ID and project ID of the Google Cloud project in that organization (for example, [{\"org_id\": \"123457654321\", \"account_id\": \"xyz-gcp-project\" }])\n\nAzure Resource subscription: The organization ID should be the Azure tenant ID, and the account ID should be the subscription ID of the specific subscription (for example, [{\"org_id\": \"abcde123-abcd-123a-abcd-a1b23456cd7e\", \"account_id\": \"aaaa1111-1111-111a-aaaa-aaaa1111aa1a\"}])\n\nAzure - Microsoft Entra ID: Both organization ID and account ID should use the Azure tenant ID (for example, [{\"org_id\": \"abcde123-abcd-123a-abcd-a1b23456cd7e\", \"account_id\": \"abcde123-abcd-123a-abcd-a1b23456cd7e\"}])","items":{"$ref":"#/components/schemas/EntityId"}}}},"EntityId":{"required":["account_id"],"type":"object","properties":{"org_id":{"type":"string"},"account_id":{"type":"string"}},"description":"Cloud entity ID"},"ScanResult":{"type":"object","properties":{"jobId":{"type":"string","description":"The unique ID of the scan process"},"operation":{"type":"string","description":"Type of scan operation"},"alreadyRunning":{"type":"boolean","description":"Indicates whether the scan is already in progress"}},"example":{"jobId":"e51a10e2-3666-4496-a459-233a917ea2c7","operation":"Rescan","alreadyRunning":false}},"SimplifiedOnboardingPublicRequest":{"required":["appMetadata","appName","appType"],"type":"object","properties":{"appType":{"type":"string","description":"The type of web app. Optional values:\n - AWS IAM \n - AWS IDC\n - Azure\n - GCP"},"appName":{"type":"string","description":"A unique name for the web app as it should appear on the user's Applications page.<br>\nIf no value is provided, a default value per cloud provider is used."},"appMetadata":{"$ref":"#/components/schemas/SimplifiedOnboardingPublicRequest_appMetadata"}},"description":"The body of a 'create web app' request"},"SimplifiedOnboardingPublicResponse":{"required":["job_id"],"type":"object","properties":{"job_id":{"type":"string","description":"The job ID, for tracking and auditing."}}},"ApprovalChannel":{"type":"string","description":"'The approval channel used for access request approvals. This can be CyberArk's in-platform channel or an external channel (ServiceNow, Slack)'\n","enum":["In-platform","External"]},"ApprovalConfigRequest":{"minProperties":1,"type":"object","properties":{"ApprovalChannel":{"$ref":"#/components/schemas/ApprovalChannel"}},"additionalProperties":false,"description":"Request body for updating the on-demand approval configuration."},"Create-Policy-v1":{"type":"object","properties":{"name":{"maxLength":200,"pattern":"^[A-Za-z0-9 .+_!\\-@\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)","nullable":true},"expirationDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)","nullable":true},"cloudProvider":{"type":"integer","description":"The cloud environment that the policy applies to\n\nSupported values:\nAWS IAM = 0, Google Cloud = 1, Azure RBAC = 2, AWS IAM Identity Center = 3, Microsoft Entra ID = 4"},"entities":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv1_entities"}},"targetAttributes":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv1_targetAttributes"}},"accessRules":{"$ref":"#/components/schemas/CreatePolicyv1_accessRules"}},"x-examples":{"Create AWS IAM policy - AWS account":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","expirationDate":"2022-10-10T00:00:00.000Z","cloudProvider":0,"entities":[{"entityId":"1234abcd-1234-123a-1a23-e6779a3fe30b","entityName":"John.D@domain.cloud.8867","entityDisplayName":"John.Doe","entityType":1,"entitySourceId":"ABCD1234-1234-12AB-AB12-66766D33B05E","entitySourceName":"CyberArk Cloud Directory","entityClass":"user"},{"entityId":"arn:aws:iam::123451234567:role/ExampleRole","entityName":"ExampleRole","entityDisplayName":"ExampleRole","entityType":0,"entitySourceId":"123451234567","exposureLevel":"39","entitySourceName":"123451234567"}],"targetAttributes":[{"name":"env","value":"prod","isCustom":true}],"accessRules":{"days":[0,1,2,3],"fromTime":"08:00","toTime":"17:00","maxSessionDuration":2,"timeZone":"Asia/Jerusalem"}}}},"Get-Policy-v1":{"type":"object","properties":{"tenantId":{"type":"string","description":"The unique ID (UUID) of the CyberArk tenant (for example, a123b123-1234-5678-a459-233a917ea2c7)"},"policyId":{"type":"string","description":"The unique ID of the policy"},"name":{"maxLength":200,"pattern":"^[A-Za-z0-9 .+_!\\-@\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"status":{"type":"integer","description":"The status of the policy\n\nSupported values:\n\nActive = 1, Expired = 3, Error = 4, Warning = 5, Validating = 6"},"creationDate":{"type":"string","description":"Date and time when the policy was created, in ISO format (for example, 2022-07-12T00:00:00.000Z)"},"lastChanged":{"type":"string","description":"Date and time when the policy was last updated, in ISO format (for example, 2022-07-15T00:00:00.000Z)"},"cloudProvider":{"type":"integer","description":"The cloud environment that the policy applies to\n\nSupported values:\n\nAWS = 0, Google Cloud = 1, Azure resource = 2, AWS IAM IDC = 3, Microsoft Entra ID = 4"},"targetAttributes":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv1_targetAttributes"}},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)","nullable":true},"expirationDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)","nullable":true},"accessRules":{"$ref":"#/components/schemas/CreatePolicyv1_accessRules"},"entities":{"type":"array","description":"List of cloud entities (CyberArk identity and cloud role) to which the policy applies","items":{"$ref":"#/components/schemas/GetPolicyv1_entities"}},"faultCode":{"type":"number","description":"(Optional) If there is an error when a policy is created, edited, or deleted, the faultCode number indicates the reason for the failure","nullable":true},"statusTooltipMessage":{"type":"string","description":"(Optional) If there is an error related to a policy, this field returns the error message that correlates with the faultCode","nullable":true}},"x-examples":{"Get AWS IAM policy - AWS account":{"tenantId":"abcd1234-1234-1234-a459-233a917ea2c7","policyId":"aws_abcd1234-e792-4a50-b5d5-12e39c1433fa","name":"policy for dev ops group","description":"","status":1,"creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"targetAttributes":[],"startDate":"2022-06-21T14:50:04.579024+00:00","expirationDate":"2022-07-21T14:50:04.579024+00:00","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"string","toTime":"string","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"47d66b2b-8117-42f1-bee5-ad7bfe21bc15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"09A9B0-6CE8-465F-AB03-65766D33B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123456789123:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123456789123","entitySourceName":"Dev","exposureLevel":43,"organizationId":"string","workspaceType":"string","roleType":"string","rolePackage":"string"}],"faultCode":0,"statusTooltipMessage":"statusTooltipMessage"}}},"Edit-Policy-v1":{"type":"object","properties":{"name":{"maxLength":200,"pattern":"^[A-Za-z0-9 .+_!\\-@\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)","nullable":true},"expirationDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)","nullable":true},"cloudProvider":{"type":"integer","description":"The cloud environment that the policy applies to\n\nSupported values:\n\nAWS IAM = 0, Google Cloud = 1, Azure resource = 2, AWS IAM Identity Center = 3, Microsoft Entra ID = 4"},"entities":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv1_entities"}},"targetAttributes":{"type":"array","items":{"$ref":"#/components/schemas/CreatePolicyv1_targetAttributes"}},"accessRules":{"$ref":"#/components/schemas/CreatePolicyv1_accessRules"}},"x-examples":{"Edit AWS IAM policy - AWS account":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","expirationDate":"2022-10-10T00:00:00.000Z","cloudProvider":0,"entities":[{"entityId":"abcd1234-1234-123c-8b96-e1234a3fe30b","entityName":"John.D@domain.cloud.5567","entityDisplayName":"John.Doe","entityType":1,"entitySourceId":"123A567B-6AB8-123A-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityClass":"user"},{"entityId":"arn:aws:iam::123451234567:role/ExampleRole","entityName":"ExampleRole","entityDisplayName":"ExampleRole","entityType":0,"entitySourceId":"123451234567","exposureLevel":"39","entitySourceName":"123451234567"}],"targetAttributes":[{"name":"env","value":"prod","isCustom":true}],"accessRules":{"days":[0,1,2,3],"fromTime":"08:00","toTime":"17:00","maxSessionDuration":2,"timeZone":"Asia/Jerusalem"}}}},"inline_response_200":{"oneOf":[{"type":"object","properties":{"job_id":{"type":"string","description":"The status of the job. This job is asynchronous, meaning that it returns a job ID that can be used in the Status API to continue tracking the status."}}},{"type":"object","properties":{"Updated":{"type":"string","description":"Policy updated"}}}]},"inline_response_500":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string","format":"uuid"},"uiType":{"type":"integer","example":3},"debug_info":{"type":"array","items":{"$ref":"#/components/schemas/inline_response_500_debug_info"}}}},"inline_response_500_1":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string"},"uiType":{"type":"integer"},"innerError":{"type":"string"},"debug_info":{"type":"array","items":{"$ref":"#/components/schemas/inline_response_500_debug_info"}}}},"token_app_id_body":{"required":["grant_type"],"type":"object","properties":{"grant_type":{"type":"string","description":"client_credentials: Refers to the Client Credentials Flow"}},"example":{"grant_type":"client_credentials"}},"inline_response_401":{"type":"object","properties":{"message":{"type":"string"}}},"CreatePolicyv2_roles":{"type":"object","properties":{"entityId":{"type":"string","description":"AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example,   arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\nAzure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/c025889f-8102-4ebf-b32c-fc0c6f0c6bd9)\n\nAzure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\nGoogle Cloud: The cloud role name and hierarchy structure (for example, projects/dev/roles/cloudsql.client)"},"workspaceType":{"type":"string","description":"AWS: Supported value: 'account' (required only in AWS IAM Identity Center)\n\nAzure: Supported values: 'directory', 'management_group', 'subscription', 'resource_group' and 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'"},"entitySourceId":{"type":"string","description":"AWS: The account ID associated with the role (for example, 123451234567)\n\nAzure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/1234abcd-abc1-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-123a-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\nAzure - Microsoft Entra ID: Azure tenant ID\n\nGoogle Cloud: The ID of the source organization, folder, or project depending on the workspaceType (for example, 123457654321 or cybrsca-dev)"},"organizationId":{"type":"string","description":"AWS: Management account ID (required only for AWS organizations (with or without IAM Identity Center))\n\nAzure - Microsoft Entra ID: Azure tenant ID (UUID)\n\nGoogle Cloud: Google Cloud organization ID"}},"description":"Specify at least one cloud role entity"},"CreatePolicyv2_identities":{"type":"object","properties":{"entityName":{"type":"string","description":"Full user principal name (for example, user@domain.com)"},"entitySourceId":{"type":"string","description":"User directory service ID (UUID format, for example 12A3B4C0-A3B0-465A-ABC3-12345D67B89E)"},"entityClass":{"type":"string","description":"Supported values: 'user', 'role', and 'group'"}},"description":"Specify at least one CyberArk identity cloud entity"},"CreatePolicyv2_accessRules":{"type":"object","properties":{"days":{"type":"array","description":"Days of the week, comma-separated (for example, [Monday, Tuesday, Wednesday])","items":{"type":"string"}},"fromTime":{"type":"string","description":"(Optional) Time of day when the policy becomes active in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)","nullable":true},"toTime":{"type":"string","description":"(Optional) Time of day when the policy becomes inactive in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00)","nullable":true},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"(Optional) Set of rules that specify exactly when the policy is active"},"GetPolicyv2_roles":{"type":"object","properties":{"entityId":{"type":"string","description":"AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\nAzure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/c025889f-8102-4ebf-b32c-fc0c6f0c6bd9)\n\nAzure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\nGoogle Cloud: The cloud role name and hierarchy structure (for example, projects/dev/roles/cloudsql.client)"},"workspaceType":{"type":"string","description":"AWS: Supported value: 'account' (required only in AWS IAM Identity Center)\n\nAzure: Supported values: 'directory', 'management_group', 'subscription', 'resource_group' and 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'","nullable":true},"entitySourceId":{"type":"string","description":"AWS: The account ID associated with the role (for example, 123451234567)\n\nAzure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/1234abcd-abc1-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-123a-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\nAzure - Microsoft Entra ID: Azure tenant ID\n\nGoogle Cloud: The ID of the source organization, folder, or project depending on the workspaceType (for example, 123457654321 or cybrsca-dev)"},"organizationId":{"type":"string","description":"AWS: Management account ID (required only for AWS organizations (with or without IAM Identity Center))\n\nAzure - Microsoft Entra ID: Azure tenant ID (UUID)\n\nGoogle Cloud: Google Cloud organization ID","nullable":true}},"description":"Specify at least one cloud role entity"},"EditPolicyv2_roles":{"type":"object","properties":{"entityId":{"type":"string","description":"AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\nAzure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/c025889f-8102-4ebf-b32c-fc0c6f0c6bd9)\n\nAzure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\nGoogle Cloud: The cloud role name and hierarchy structure (for example, projects/dev/roles/cloudsql.client)"},"workspaceType":{"type":"string","description":"AWS: Supported value: 'account' (required only in AWS IAM Identity Center)\n\nAzure: Supported values: 'directory', 'management_group', 'subscription', 'resource_group' and 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'"},"entitySourceId":{"type":"string","description":"AWS: The account ID associated with the role (for example, 123451234567)\n\nAzure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/1234abcd-abc1-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-123a-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\nAzure - Microsoft Entra ID: Azure tenant ID\n\nGoogle Cloud: The ID of the source organization, folder, or project depending on the workspaceType (for example, 123457654321 or cybrsca-dev)"},"organizationId":{"type":"string","description":"AWS: Management account ID (required only for AWS organizations (with or without IAM Identity Center))\n\nAzure - Microsoft Entra ID: Azure tenant ID (UUID)\n\nGoogle Cloud: Google Cloud organization ID"}},"description":"Specify at least one cloud role entity"},"EditPolicyv2_accessRules":{"type":"object","properties":{"days":{"type":"array","description":"Days of the week, comma-separated (for example, [Monday, Tuesday, Wednesday])","items":{"type":"string"}},"fromTime":{"type":"string","description":"(Optional) Time of day when the policy becomes active in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)","nullable":true},"toTime":{"type":"string","description":"(Optional) Time of day when the policy becomes inactive in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00)","nullable":true},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"Set of rules that specify exactly when the policy is active"},"SimplifiedOnboardingPublicRequest_appMetadata":{"required":["workspaceId"],"type":"object","properties":{"workspaceId":{"type":"string","description":"Possible values:\n - AWS IAM - The ID of the  AWS organization (management account ID) or AWS account (account ID)\n - AWS IdC - The AWS IAM Identity Center's management account ID\n - AZURE - The Microsoft Entra ID's directory (tenant) ID\n - GCP - The Google Cloud organization ID"},"establishAutoTrust":{"type":"boolean","description":"When 'true', automatically establishes trust between CyberArk and AWS.<br>\nRelevant for AWS IAM only.","default":false},"useIdentityAsIdp":{"type":"boolean","description":"When 'true', uses CyberArk Identity as the identity provider.<br>\nRelevant for AWS IAM Identity Center and GCP only.","default":false}},"description":"The workspace details"},"CreatePolicyv1_entities":{"type":"object","properties":{"entityId":{"type":"string","description":"1 (CyberArk identity):\n\n- Internal UUID of the cloud entity\n\n0 (Cloud provider):\n\n- AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\n- Azure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/abcd1234-1234-1abc-b12c-fc0c6f0c6bd9)\n\n- Azure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\n- Google Cloud: The cloud role name and hierarchy structure (for example, projects/cybrsca-dev/roles/CustomRole)"},"entityName":{"type":"string","description":"CyberArk identity: Full user principal name (for example, user@domain.com)\n\nCloud provider: The cloud role name ('ExampleRole' or 'CustomRole')"},"entityDisplayName":{"type":"string","description":"CyberArk identity: The display name of the cloud entity (user, role or group)\n\nCloud provider: N/A"},"entityType":{"type":"integer","description":"CyberArk identity (cloud entity): Value = 1\n\nCloud provider (cloud role): Value = 0"},"entitySourceId":{"type":"string","description":"1 (CyberArk identity):\n\n- User directory service ID\n\n0 (cloud provider):\n\n- AWS: The account ID associated with the role (for example, 123456654321)\n\n- Azure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/abcd1234-123a-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-0123-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\n- Azure - Microsoft Entra ID: Azure tenant ID\n\n- Google Cloud: The name of the source organization, folder, or project depending on the workspaceType (for example, cybrsca-dev)"},"entitySourceName":{"type":"string","description":"CyberArk identity: The source of the cloud entity. Supported values: 'CyberArk Cloud Directory' or 'Federated Directory Service'\n\nCloud provider: N/A"},"entityClass":{"type":"string","description":"CyberArk identity: Supported values: 'user', 'role', and 'group'\n\nCloud provider: N/A"},"organizationId":{"type":"string","description":"(Google Cloud policies only) Google Cloud organization ID"},"workspaceType":{"type":"string","description":"(Google Cloud policies only) Supported values: 'gcp_organization', 'folder', and 'project'"},"roleType":{"type":"string","description":"(Google Cloud policies only) Supported values: Predefined = 0, Custom = 1, Basic = 2"},"rolePackage":{"type":"string","description":"(Google Cloud policies only) The Google Cloud package associated with the role"}},"description":"Specify at least one CyberArk identity cloud entity and one cloud role entity (minimum two entities in total)"},"CreatePolicyv1_targetAttributes":{"type":"object","properties":{"name":{"type":"string","description":"The name of the tag. For example, 'color'"},"value":{"type":"string","description":"The value of the tag. For example, 'blue'"},"isCustom":{"type":"boolean","description":"true"}},"description":"Key-value pairs that specify the AWS assets to which the policy applies (for example, [{\"name\": \"env\", \"value\": \"prod\", \"isCustom\": true}]"},"CreatePolicyv1_accessRules":{"type":"object","properties":{"days":{"type":"array","description":"Days of the week as a number range from 0-6, comma-separated, where Sunday=0, Monday=1, Tuesday=2, Wednesday=3, Thursday=4, Friday=5, Saturday=6 (for example, [1, 2, 3])","items":{"type":"integer"}},"fromTime":{"type":"string","description":"(Optional) Time of day when the policy becomes active in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)","nullable":true},"toTime":{"type":"string","description":"(Optional) Time of day when the policy becomes inactive in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00)","nullable":true},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"Set of rules that specify exactly when the policy is active"},"GetPolicyv1_entities":{"type":"object","properties":{"entityId":{"type":"string","description":"1 (CyberArk identity):\n\n- Internal UUID of the cloud entity\n\n0 (Cloud provider):\n\n- AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\n- Azure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/abcd1234-1234-1abc-b12c-fc0c6f0c6bd9)\n\n- Azure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\n- Google Cloud: The cloud role name and hierarchy structure (for example, projects/cybrsca-dev/roles/CustomRole)"},"entityName":{"type":"string","description":"CyberArk identity: Full user principal name (for example, user@domain.com)\n\nCloud provider: The cloud role name ('ExampleRole' or 'CustomRole')"},"entityType":{"type":"integer","description":"CyberArk identity (cloud entity): Value = 1"},"entitySourceId":{"type":"string","description":"1 (CyberArk identity):\n- User directory service ID\n\n0 (cloud provider):\n- AWS: The account ID associated with the role (for example, 123456654321)\n- Azure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/abcd1234-123a-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-0123-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n- Azure - Microsoft Entra ID: Azure tenant ID\n- Google Cloud: The name of the source organization, folder, or project depending on the workspaceType (for example, cybrsca-dev)"},"entitySourceName":{"type":"string","description":"CyberArk identity: The source of the cloud entity. Supported values: 'CyberArk Cloud Directory' or 'Federated Directory Service'\n\nCloud provider: N/A"},"entityDisplayName":{"type":"string","description":"The display name of the cloud entity (user, role or group)"},"entityClass":{"type":"string","description":"Supported values: 'user', 'role', and 'group'"},"entityEmail":{"type":"string","description":"The email address of the CyberArk identity user (cloud entity)"},"exposureLevel":{"type":"integer"},"organizationId":{"type":"string","description":"Azure resource: Azure tenant ID (UUID)\n\nMicrosoft Entra ID: Azure tenant ID\n\nGoogle Cloud: Google Cloud organization ID","nullable":true},"workspaceType":{"type":"string","description":"Azure resource: Management group level role - 'management_group', Subscription level (and lower) - 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'","nullable":true},"roleType":{"type":"string","description":"(Google Cloud policies only) Supported values: Predefined = 0, Custom = 1, Basic = 2"},"rolePackage":{"type":"string","description":"(Google Cloud policies only) The Google Cloud package associated with the role"}},"description":"CyberArk identity cloud entity fields"},"inline_response_500_debug_info":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}},"responses":{"CreatePolicyV2-Response":{"description":"Successful response","content":{"application/json":{"schema":{"properties":{"jobId":{"type":"string","description":"The job ID, which can be used in the Get job status API to continue tracking the status"}}}}}},"CreatePolicyV1-Response":{"description":"Successful response","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"tenantId":{"type":"string","description":"The unique ID (UUID) of the CyberArk tenant (for example, a123b123-1234-5678-a459-233a917ea2c7)"},"name":{"maxLength":200,"pattern":"^[A-Za-z0-9 .+_!\\-@\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"status":{"type":"integer","description":"The status of the policy\n\nSupported values:\n\nActive = 1, Expired = 3, Error = 4, Warning = 5, Validating = 6"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"creationDate":{"type":"string","description":"The date and time when the policy was created, in ISO format (for example, 2022-06-21T14:50:04.579024+00:00)"},"lastChanged":{"type":"string","description":"The date and time when the policy was last updated, in ISO format (for example, 2022-06-21T14:50:04.579024+00:00)"},"cloudProvider":{"type":"integer","description":"The cloud environment that the policy applies to\n\nSupported values:\n\nAWS = 0, Google Cloud = 1, Azure RBAC = 2, AWS IAM IDC = 3, Microsoft Entra ID = 4"},"policyId":{"type":"string","description":"The unique ID of the policy"},"targetAttributes":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"The name of the tag. For example, 'color'"},"value":{"type":"string","description":"The value of the tag. For example, 'blue'"},"isCustom":{"type":"boolean","description":"true"}},"description":"Key-value pairs that specify the AWS assets to which the policy applies (for example, [{\"name\": \"env\", \"value\": \"prod\", \"isCustom\": true}]"}},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)"},"expirationDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)"},"accessRules":{"type":"object","properties":{"days":{"type":"array","description":"Days of the week as a number range from 0-6, comma-separated, where Sunday=0, Monday=1, Tuesday=2, Wednesday=3, Thursday=4, Friday=5, Saturday=6 (for example, [1, 2, 3])","items":{"type":"integer"}},"fromTime":{"type":"string","description":"(Optional) Time of day when the policy becomes active in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)","nullable":true},"toTime":{"type":"string","description":"(Optional) Time of day when the policy becomes inactive in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00)","nullable":true},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"Set of rules that specify exactly when the policy is active"},"entities":{"type":"array","description":"List of cloud entities (CyberArk identity and cloud role) to which the policy applies","items":{"type":"object","properties":{"entityId":{"type":"string","description":"1 (CyberArk identity):\n\n- Internal UUID of the cloud entity\n\n0 (Cloud provider):\n\n- AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\n- Azure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/abcd1234-1234-4abc-b32c-fc0c6f0c6bd9)\n\n- Azure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\n- Google Cloud: The cloud role name and hierarchy structure (for example, projects/cybrsca-dev/roles/CustomRole)"},"entityName":{"type":"string","description":"CyberArk identity: Full user principal name (for example, user@domain.com)\n\nCloud provider: The cloud role name ('ExampleRole' or 'CustomRole')"},"entityType":{"type":"integer","description":"Value = 1 (CyberArk identity)"},"entitySourceId":{"type":"string","description":"1 (CyberArk identity):\n\n- User directory service ID\n\n0 (cloud provider):\n\n- AWS: The account ID associated with the role (for example, 123456654321)\n\n- Azure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/abcd1234-123a-123e-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-012a-12c3-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\n- Azure - Microsoft Entra ID: Azure tenant ID\n\n- Google Cloud: The name of the source organization, folder, or project depending on the workspaceType (for example, cybrsca-dev)"},"entitySourceName":{"type":"string","description":"The source of the cloud entity in CyberArk Identity\n\nSupported values:\n\n'CyberArk Cloud Directory' and 'Federated Directory Service'"},"entityDisplayName":{"type":"string","description":"The display name of the cloud entity (user, role or group)"},"entityClass":{"type":"string","description":"Supported values: 'user', 'role', and 'group'"},"entityEmail":{"type":"string","description":"The email address of the CyberArk identity user (cloud entity)","nullable":true},"exposureLevel":{"type":"integer","nullable":true},"organizationId":{"type":"string","description":"Azure resource: the Azure tenant ID (UUID)\n\nMicrosoft Entra ID: Azure tenant ID\n\nGoogle Cloud: Google Cloud organization ID","nullable":true},"workspaceType":{"type":"string","description":"Azure resource: Management group level role - 'management_group', Subscription level (and lower) - 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'","nullable":true},"roleType":{"type":"string","description":"(Google Cloud policies only) Supported values: Predefined = 0, Custom = 1, Basic = 2","nullable":true},"rolePackage":{"type":"string","description":"(Google Cloud policies only) The Google Cloud package associated with the role","nullable":true}},"description":"CyberArk identity cloud entity fields"}},"faultCode":{"type":"number","description":"If there is an error when a policy is created, edited, or deleted, the faultCode number indicates the reason for the failure"},"statusTooltipMessage":{"type":"string","description":"If there is an error related to a policy, this field returns the error message that correlates with the faultCode"}},"x-examples":{"Create AWS IAM policy - AWS account":{"tenantId":"a123b123-1234-5678-a459-233a917ea2c7","name":"aws account example policy","status":1,"description":"Create policy response","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_1234567-123a-456b-7h7h-1234gb12kj1","targetAttributes":[],"startDate":"2022-06-21T14:50:04.579024+00:00","expirationDate":"2022-06-22T14:50:04.579024+00:00","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"07:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"123a123b-1234-412a1-abc5-ad7bfe21ec15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"12AB56CD-AB12-123A-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","risks":[]}],"faultCode":"SCA-0100","statusTooltipMessage":"a message"}}},{"type":"object","properties":{"job_id":{"type":"string","description":"This returns a job ID that can be used in the Get job status API to continue tracking the status"}}}]},"examples":{"Create AWS IAM policy - AWS account":{"value":{"tenantId":"a123b123-1234-5678-a459-233a917ea2c7","name":"policy for AWS account","status":1,"description":"Create policy response","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_1234567-123a-456b-7h7h-1234gb12kj1","targetAttributes":[],"startDate":"2022-06-21T14:50:04.579024+00:00","expirationDate":"2022-06-22T14:50:04.579024+00:00","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"07:00:00","toTime":"10:00:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"123a123b-1234-412a1-abc5-ad7bfe21ec15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"12AB56CD-AB12-123A-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","risks":[]}],"faultCode":"SCA-0100","statusTooltipMessage":"a message"}}}},"application/xml":{"schema":{"type":"object","properties":{"tenantId":{"type":"string"},"name":{"type":"string"},"status":{"type":"integer"},"description":{"type":"string"},"creationDate":{"type":"string"},"lastChanged":{"type":"string"},"cloudProvider":{"type":"integer"},"policyId":{"type":"string"},"targetAttributes":{"type":"array","items":{"type":"object","properties":{}}},"startDate":{"type":"string"},"expirationDate":{"type":"string"},"accessRules":{"type":"object","properties":{"days":{"type":"array","items":{"type":"integer"}},"fromTime":{"type":"string"},"toTime":{"type":"string"},"maxSessionDuration":{"type":"integer"},"timeZone":{"type":"string"}}},"entities":{"type":"array","items":{"type":"object","properties":{"entityId":{"type":"string"},"entityName":{"type":"string"},"entityType":{"type":"integer"},"entitySourceId":{"type":"string"},"entitySourceName":{"type":"string"},"entityDisplayName":{"type":"string"},"entityClass":{"type":"string"},"entityEmail":{"type":"string","nullable":true},"exposureLevel":{"type":"integer","nullable":true},"organizationId":{"type":"string","nullable":true},"workspaceType":{"type":"string","nullable":true},"roleType":{"type":"string","nullable":true},"rolePackage":{"type":"string","nullable":true}}}},"exposure":{"type":"integer"},"faultCode":{"type":"number","nullable":true},"statusTooltipMessage":{"type":"string","nullable":true}},"x-examples":{"example-1":{"tenantId":"e51a10e2-3666-4496-a459-233a917ea3c7","name":"policy for dev ops group","status":1,"description":"","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_8cb10249-e792-4a50-b7d5-12e39c1433fa","targetAttributes":[],"startDate":"string","expirationDate":"string","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"string","toTime":"string","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"88d66b2b-8117-42f1-bee5-ad7bfe21bc15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","exposureLevel":43,"organizationId":"string","workspaceType":"string","roleType":"string","rolePackage":"string"}],"exposure":100,"faultCode":"number","statusTooltipMessage":"string"}}},"examples":{"example-1":{"value":{"tenantId":"e51a10e2-3666-4496-a459-233a917ea2c7","name":"policy for dev ops group","status":1,"description":"","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_7eb10249-e792-4a50-b5d5-12e39c1433fa","targetAttributes":[],"startDate":"string","expirationDate":"string","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"string","toTime":"string","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"47d66b2b-8117-42f1-bcc5-ad7bfe21bc15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","exposureLevel":43,"organizationId":"string","workspaceType":"string","roleType":"string","rolePackage":"string"}],"exposure":100,"faultCode":100,"statusTooltipMessage":"string"}}}}}},"InputError-CreatePolicy":{"description":"Input Error","content":{"application/json":{"schema":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string"},"uiType":{"type":"integer"},"innerError":{"type":"string"},"debug_info":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}}}},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"P1022","headerMessage":"Input error","bodyMessage":"Your request failed due to an input validation error.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"innerError":"startDate can't be in the past (startDate: 07/12/2022; Today: 02/11/2025 (mm/dd/yyyy))","debug_info":[{"name":"VALIDATION","status":"Failure","error_code":"P1022","reason":"The following values aren't valid: startDate can't be in the past (startDate: 07/12/2022; Today: 02/11/2025 (mm/dd/yyyy))"}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"P1022","headerMessage":"Input error","bodyMessage":"Your request failed due to an input validation error.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"innerError":"startDate can't be in the past (startDate: 07/12/2022; Today: 02/11/2025 (mm/dd/yyyy))"}}}}}},"InternalServerError-CreatePolicy":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string","format":"uuid"},"uiType":{"type":"integer","example":3},"debug_info":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}}}},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"1101","headerMessage":"We couldn't apply your changes","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"ffab89bd-6c4a-4f9d-8101-5a5ae08e2a6a","uiType":3,"debug_info":[{"name":"POLICY_CREATE_STARTED","status":"Failure","error_code":"1101","reason":"Please try again in a few minutes. If that doesn't work, contact CyberArk support."}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"1101","headerMessage":"We couldn't apply your changes","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"ffab89bd-6c4a-4f9d-8101-5a5ae08e2a6a","uiType":3}}}}}},"List-Of-Policies":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"total":{"type":"integer","description":"The number of policies that were returned"},"hits":{"type":"array","description":"List of policies, with each policy in JSON format","items":{"type":"object","properties":{"tenantId":{"type":"string","description":"The unique ID (UUID) of the CyberArk tenant (for example, a123b123-1234-5678-a459-233a917ea2c7)"},"name":{"type":"string","description":"The name of the policy"},"status":{"type":"integer","description":"Filter by policies that have a specific status\n\nSupported values:\n\nActive = 1, Expired = 3, Error = 4, Warning = 5, Validating = 6"},"description":{"type":"string","description":"The description of the policy"},"creationDate":{"type":"string","description":"The date and time when the policy was created, in ISO format (for example, 2022-06-21T14:50:04.579024+00:00)"},"lastChanged":{"type":"string","description":"The date and time when the policy was last updated, in ISO format (for example, 2022-06-21T14:50:04.579024+00:00)"},"cloudProvider":{"type":"integer","description":"The cloud environment that the policy applies to\n\nSupported values:\n\nAWS = 0, Google Cloud = 1, Azure resource = 2, AWS IAM IDC = 3, Microsoft Entra ID = 4"},"policyId":{"type":"string","description":"The unique ID of the policy"},"targetAttributes":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"The name of the tag. For example, 'color'"},"value":{"type":"string","description":"The value of the tag. For example, 'blue'"},"isCustom":{"type":"boolean","description":"true"}},"description":"Key-value pairs that specify the AWS assets to which the policy applies (for example, [{\"name\": \"env\", \"value\": \"prod\", \"isCustom\": true}]"}},"startDate":{"type":"string","description":"(Optional) Date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)"},"expirationDate":{"type":"string","description":"(Optional) Date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)"},"accessRules":{"type":"object","properties":{"days":{"type":"array","description":"A comma-separated array defining the days of the week when a user can access the environment.<br>Allowed values: 0-6, where Sunday=0, Monday=1, Tuesday=2, Wednesday=3, Thursday=4, Friday=5, Saturday=6 (for example, [1, 2, 3])","items":{"type":"integer"}},"fromTime":{"type":"string","description":"(Optional) Time of day from which the user can access the environment, in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)"},"toTime":{"type":"string","description":"(Optional) Time of day after which access to the environment becomes unavailable, in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00). A user can connect to the environment right up until this time, even if the session itself goes past this time"},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"Set of rules that specify who can access the environment and when"},"entities":{"type":"array","description":"List of cloud entities (CyberArk identity and cloud role) to which the policy applies","items":{"type":"object","properties":{"entityId":{"type":"string","description":"1 (CyberArk identity):\n\n- Internal UUID of the cloud entity\n\n0 (Cloud provider):\n\n- AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\n- Azure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/abcd1234-1234-4abc-b32c-fc0c6f0c6bd9)\n\n- Azure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\n- Google Cloud: The cloud role name and hierarchy structure (for example, projects/cybrsca-dev/roles/CustomRole)"},"entityName":{"type":"string","description":"CyberArk identity: Full user principal name (for example, user@domain.com)\n\nCloud provider: The cloud role name ('ExampleRole' or 'CustomRole')"},"entityType":{"type":"integer","description":"Value = 1 (CyberArk identity)"},"entitySourceId":{"type":"string","description":"1 (CyberArk identity):\n\n- User directory service ID\n\n0 (cloud provider):\n\n- AWS: The account ID associated with the role (for example, 123456654321)\n\n- Azure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/abcd1234-123a-123e-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-012a-12c3-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\n- Azure - Microsoft Entra ID: Azure tenant ID\n\n- Google Cloud: The name of the source organization, folder, or project depending on the workspaceType (for example, cybrsca-dev)"},"entitySourceName":{"type":"string","description":"The source of the cloud entity in CyberArk Identity\n\nSupported values:\n\n'CyberArk Cloud Directory' and 'Federated Directory Service'"},"entityDisplayName":{"type":"string","description":"The display name of the cloud entity (user, role or group)"},"entityClass":{"type":"string","description":"Supported values: 'user', 'role', and 'group'"},"entityEmail":{"type":"string","description":"The email address of the CyberArk identity user (cloud entity)"},"exposureLevel":{"type":"integer"},"organizationId":{"type":"string","description":"Azure resource: the Azure tenant ID (UUID)\n\nMicrosoft Entra ID: Azure tenant ID\n\nGoogle Cloud: Google Cloud organization ID"},"workspaceType":{"type":"string","description":"Azure resource: Management group level role - 'management_group', Subscription level (and lower) - 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'"},"roleType":{"type":"string","description":"(Google Cloud policies only) Supported values: Predefined = 0, Custom = 1, Basic = 2"},"rolePackage":{"type":"string","description":"(Google Cloud policies only) The Google Cloud package associated with the role"}},"description":"CyberArk identity cloud entity fields"}},"faultCode":{"type":"number","description":"If there is an error when a policy is created, edited, or deleted, the faultCode number indicates the reason for the failure"},"statusTooltipMessage":{"type":"string","description":"If there is an error related to a policy, this field returns the error message that correlates with the faultCode"}}}}},"x-examples":{"Query AWS IAM policy - AWS account":{"total":1,"hits":[{"tenantId":"abcd1234-1234-5678-a659-233a917ea2c7","name":"policy for dev ops group","status":1,"description":"Policies","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_1234abcd-e123-123a-b5d5-12e39c1455fa","targetAttributes":[],"startDate":"string","expirationDate":"string","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"string","toTime":"string","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"1a2b3456-1234-12f3-abc5-ad7bfe21bc15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"ABCD1234-123A-456A-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","exposureLevel":43,"organizationId":"string","workspaceType":"string","roleType":"string","rolePackage":"string"}],"exposure":100,"faultCode":1001,"statusTooltipMessage":"string"}]}}},"examples":{"Query AWS IAM policy - AWS account":{"value":{"total":1,"hits":[{"tenantId":"abcd1234-1234-1234-a123-123a817ea2c7","name":"policy for dev ops group","status":1,"description":"Policies","creationDate":"2022-06-21T14:50:04.579024+00:00","lastChanged":"2022-06-21T14:50:04.579024+00:00","cloudProvider":0,"policyId":"aws_7eb12345-e678-1a23-b5d5-12e39c1455fa","targetAttributes":[],"startDate":"string","expirationDate":"string","accessRules":{"days":[0,1,2,3,4,5,6],"fromTime":"string","toTime":"string","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"},"entities":[{"entityId":"1a2b3456-1234-12f3-abc5-ad7bfe21bc15","entityName":"John.S@company.com","entityType":1,"entitySourceId":"1234ABCD-ABC1-465F-AB03-65766D55B05E","entitySourceName":"CyberArk Cloud Directory","entityDisplayName":"John Smith","entityClass":"user","entityEmail":"string"},{"entityId":"arn:aws:iam::123451234567:role/examplerole","entityName":"examplerole","entityType":0,"entitySourceId":"123451234567","entitySourceName":"Dev","exposureLevel":43,"organizationId":"string","workspaceType":"string","roleType":"string","rolePackage":"string"}],"faultCode":1001,"statusTooltipMessage":"message"}]}}}}}},"Discovery":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"jobId":{"type":"string","description":"The job ID, which can be used in the Get job status API to continue tracking the status"},"alreadyRunning":{"type":"boolean","description":"Indicates whether the discovery process is already active. If so, the user should try again later."},"status":{"type":"integer","description":"Response status code"}},"x-examples":{"Successful response":{"jobId":"abcd1234-1234-1234-a123-255a917ea2c7","alreadyRunning":false,"status":200}}},"example":{"jobId":"abcd1234-1234-1234-a123-255a917ea2c7","alreadyRunning":false,"status":200}}}},"Discovery400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string"},"uiType":{"type":"integer"},"innerError":{"type":"string"},"debug_info":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}}}},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"P1022","headerMessage":"Input error","bodyMessage":"Your request failed due to an input validation error.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"innerError":"Discovery request missing or mismatched mandatory field in the request object. Verify the values provided for 'csp', 'organization_id' and 'account_info'.","debug_info":[{"name":"VALIDATION","status":"Failure","error_code":"P1022","reason":"Discovery request missing or mismatched mandatory field in the request object. Verify the values provided for 'csp', 'organization_id' and 'account_info'."}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"P1022","headerMessage":"Input error","bodyMessage":"Your request failed due to an input validation error.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"innerError":"Discovery request missing or mismatched mandatory field in the request object. Verify the values provided for 'csp', 'organization_id' and 'account_info'."}}}}}},"Validate":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"jobId":{"type":"string","description":"The job ID, which can be used in the Get job status API to continue tracking the status"}},"x-examples":{"Successful response":{"jobId":"1234abcd-1234-1234-a123-233a917ea2c7"}}},"example":{"jobId":"1234abcd-1234-1234-a123-233a917ea2c7"}}}},"InternalServerError-Validate":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string"},"uiType":{"type":"integer"},"innerError":{"type":"string"},"debug_info":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}}}},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"1001","headerMessage":"Oops! Something went wrong","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"debug_info":[{"name":"Unknown","status":"Failure","error_code":"1001","reason":"reason(if any) or null"}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"1001","headerMessage":"Oops! Something went wrong","bodyMessage":"Please try again in a few minutes. If that doesn't work, contact CyberArk support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3}}}}}},"Get-Policy-Response":{"description":"Successful response","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/Get-Policy-v2"},{"$ref":"#/components/schemas/Get-Policy-v1"}]},"examples":{"Get AWS IAM policy - AWS account":{"value":{"policyId":"123456","csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","policy_type":"pre_defined","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Get Azure resource policy for specific resource":{"value":{"policyId":"123456","csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","policy_type":"pre_defined","roles":[{"entityId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/providers/Microsoft.Authorization/roleDefinitions/1f12345f-1234-56b7-9ce7-9b123b123ba4","workspaceType":"resource","entitySourceId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/resourceGroups/example-resource-group/providers/Microsoft.ManagedIdentity/userAssignedIdentities/example-resource","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Get Google Cloud policy for specific project":{"value":{"policyId":"123456","csp":"GCP","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","policy_type":"pre_defined","roles":[{"entityId":"roles/actions.Admin","workspaceType":"project","entitySourceId":"example-project-name","organization_id":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}}}}},"InternalServerError-GetPolicyAndQueryPolicies":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"faultCode":{"type":"string"},"headerMessage":{"type":"string"},"bodyMessage":{"type":"string"},"correlationId":{"type":"string"},"uiType":{"type":"integer"},"innerError":{"type":"string"},"debug_info":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string"},"reason":{"type":"string"}}}}}},"examples":{"example1":{"summary":"Error response when debug param is true","value":{"faultCode":"1100","headerMessage":"We're having trouble retrieving policies from the server.","bodyMessage":"Try refreshing the page. If that doesn't work, contact CyberArk Support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3,"debug_info":[{"name":"Unknown","status":"Failure","error_code":"1100","reason":"reason (if any) or null"}]}},"example2":{"summary":"Error response when debug param is false","value":{"faultCode":"1100","headerMessage":"We're having trouble retrieving policies from the server.","bodyMessage":"Try refreshing the page. If that doesn't work, contact CyberArk Support.","correlationId":"612b32bf-e5f7-4f14-9a0f-0d4a66f156af","uiType":3}}}}}},"RevokeSessionsByIdsResponse":{"description":"","content":{"application/json":{"schema":{"required":["response"],"type":"object","properties":{"response":{"maxItems":100,"minItems":1,"type":"array","description":"Sessions requested for revocation and their status.","items":{"$ref":"#/components/schemas/SessionRevocationInfo"}}}}}}},"GetActiveSessionsResponse":{"description":"Example response","content":{"application/json":{"schema":{"required":["response","total"],"type":"object","properties":{"response":{"maxItems":50,"minItems":0,"type":"array","description":"A list of active sessions.","items":{"$ref":"#/components/schemas/SessionInfo"}},"total":{"minimum":0,"type":"integer","description":"The total number of active sessions."},"nextToken":{"type":"string","description":"The token from the previous API response."}}}}}},"GetEligibleAccessResponse":{"description":"Example response","content":{"application/json":{"schema":{"required":["response","total"],"type":"object","properties":{"response":{"maxItems":50,"minItems":1,"type":"array","description":"A list of targets you're eligible to access.","items":{"$ref":"#/components/schemas/EligibleTarget"}},"total":{"minimum":0,"type":"integer","description":"The total number of targets you're eligible to access."},"nextToken":{"type":"string","description":"The token from the previous API response."}}}}}},"GetGroupsEligibleAccessResponse":{"description":"Example response","content":{"application/json":{"schema":{"required":["response","total"],"type":"object","properties":{"response":{"maxItems":50,"minItems":1,"type":"array","description":"The list of groups for which you are eligible to request just-in-time membership","items":{"$ref":"#/components/schemas/GroupsEligibleTarget"}},"total":{"minimum":0,"type":"integer","description":"The total number of groups"},"nextToken":{"type":"string","description":"The token from the previous API response."}}}}}},"ElevateAccessResponse":{"description":"Example response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/ElevateAccessResult"}}}}}},"RevokeSessionsOfUserResponse":{"description":"Example response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"minItems":0,"type":"array","description":"Sessions being revoked and their status.","items":{"$ref":"#/components/schemas/SessionRevocationInfo"}}}}}}},"ScanResponse":{"description":"Response for scanning operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanResult"}}}},"JobStatus":{"description":"Job Status","content":{"application/json":{"schema":{"type":"object","properties":{"job_id":{"type":"string","description":"The unique ID of the job"},"operation":{"type":"string","description":"The job type"},"status":{"type":"string","description":"The status of the job.\n  \nSupported values:\n\nInProgress,Success,Failure"},"last_updated":{"type":"string","description":"The date and time when the job was last changed, in ISO format."},"already_running":{"type":"boolean","description":"Flag that represents if the job is running"},"total_executed":{"type":"object","properties":{"total":{"type":"integer","description":"Total count"},"current":{"type":"integer","description":"Current count"}},"description":"(Optional) Stats for the jobs"},"additional_info":{"type":"object","properties":{"policy_id":{"type":"string","description":"Policy ID that was created for the CREATE_POLICY_V2 job when it completed successfully"}},"description":"(Optional) Information that is added to the job according to the specific operation"},"debug_info":{"type":"array","description":"(Optional) Debug information for failed jobs","items":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string"},"error_code":{"type":"string","nullable":true},"reason":{"type":"string","nullable":true}}}}},"x-examples":{"example-1":{"job_id":"e369baf0-1b24-11ee-be56-0242ac120002","operation":"RESCAN","status":"Success","last_updated":"2011-10-05T14:48:00.000Z","already_running":false,"total_executed":{"current":100,"total":100},"additional_info":{"policy_id":"aws_0657546c-0d9f-4112-862f-49570afea282"}}}},"examples":{"Rescan":{"value":{"job_id":"e369baf0-1b24-11ee-be56-0242ac120002","operation":"RESCAN","status":"Success","last_updated":"2011-10-05T14:48:00.000Z","already_running":false,"total_executed":{"current":100,"total":100}}},"Create policy":{"value":{"job_id":"e369baf0-1b24-11ee-be56-0242ac120002","operation":"CREATE_POLICY_V2","status":"Success","last_updated":"2011-10-05T14:48:00.000Z","already_running":false,"total_executed":{"current":100,"total":100},"additional_info":{"policy_id":"aws_0657546c-0d9f-4112-862f-49570afea282"}}},"Edit policy":{"value":{"job_id":"e369baf0-1b24-11ee-be56-0242ac120002","operation":"EDIT_POLICY_V2","status":"Success","last_updated":"2011-10-05T14:48:00.000Z","already_running":false,"total_executed":{"current":100,"total":100},"additional_info":{"policy_id":"aws_0657546c-0d9f-4112-862f-49570afea282"}}},"Cloud discovery":{"value":{"job_id":"e369baf0-1b24-11ee-be56-0242ac120002","operation":"Discovery","status":"Success","last_updated":"2011-10-05T14:48:00.000Z","already_running":false,"total_executed":{"current":100,"total":100}}},"Rescan job failed and debug param is true":{"value":{"job_id":"ab4e1176-b1b3-45ce-bb97-4eda2127743c","operation":"RESCAN_REQUEST_ORCHESTRATOR","status":"Failure","last_updated":"2025-01-05T13:27:14Z","already_running":false,"debug_info":[{"name":"RESCAN_REQUEST_ORCHESTRATOR","status":"Failure","error_code":"CC1023","reason":"Scan operation failed. If that doesn't work, contact CyberArk support."},{"name":"RESCAN_ROLES","status":"Failure","error_code":"CC1023","reason":"Scan operation failed. If that doesn't work, contact CyberArk support."}]}},"Rescan job failed and debug param is false":{"value":{"job_id":"ab4e1176-b1b3-45ce-bb97-4eda2127743c","operation":"RESCAN_REQUEST_ORCHESTRATOR","status":"Failure","last_updated":"2025-01-05T13:27:14Z","already_running":false}}}}}},"GetApprovalConfigResponse":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"ApprovalChannel":{"$ref":"#/components/schemas/ApprovalChannel"}}},"examples":{"combinedInApp":{"summary":"CyberArk's in-platform channel; all requests considered","description":"CyberArk's in-platform approval channel is configured, and  requests from all identities are considered.","value":{"ApprovalChannel":"In-platform"}}}}}}},"parameters":{"status":{"name":"status","in":"query","description":"Filter on policies that have a specific status\n\nSupported values:\n\n Active = 1, Expired = 3, Error = 4, Validating = 6","required":false,"schema":{"type":"number","enum":[1,3,4,6]}},"free_text":{"name":"free_text","in":"query","description":"Search for free text in the supported policy fields:\n\nName, description, entity name, organization ID,  cloud provider, status, account name","required":false,"schema":{"type":"string"}},"cloud_provider":{"name":"cloud_provider","in":"query","description":"Filter by the cloud provider that the policy applies to\n\nSupported values:\n\nAWS (IAM) = 0, Google Cloud = 1, Azure (resource) = 2, AWS (IAM Identity Center) = 3, Azure (Microsoft Entra ID) = 4","required":false,"schema":{"type":"number","enum":[0,1,2,3,4]}},"debug":{"name":"debug","in":"query","description":"(Optional) Enable debug mode for additional troubleshooting information. \n\n**Default** :  false","required":false,"schema":{"type":"boolean"}}},"requestBodies":{"Create-Policy-v1":{"description":"","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/Create-Policy-v1"},{"$ref":"#/components/schemas/Create-Policy-v2"}]},"examples":{"Create AWS IAM policy - AWS account (using version 1.0)":{"value":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","expirationDate":"2022-10-10T00:00:00.000Z","cloudProvider":0,"entities":[{"entityId":"1234abcd-1234-123a-1abc-123456abcdef","entityName":"John.D@domain.cloud.8627","entityDisplayName":"John.Doe","entityType":1,"entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entitySourceName":"CyberArk Cloud Directory","entityClass":"user","exposureLevel":"0","risks":[]},{"entityId":"arn:aws:iam::123451234567:role/ExampleRole","entityName":"ExampleRole","entityDisplayName":"ExampleRole","entityType":0,"entitySourceId":"123451234567","exposureLevel":"39","entitySourceName":"dev","risks":[]}],"targetAttributes":[{"name":"env","value":"prod","isCustom":true}],"accessRules":{"days":[0,1,2,3],"fromTime":"08:00","toTime":"17:00","maxSessionDuration":2,"timeZone":"Asia/Jerusalem"}}}}}}},"Create-Policy-v2":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!.+-\\\\s]{1,200}$","type":"string","description":"The name of the policy"},"description":{"maxLength":200,"pattern":"^[A-Za-z0-9-@ _!^[{}.+-\\]$\\\\s]{0,200}$","type":"string","description":"The description of the policy"},"startDate":{"type":"string","description":"(Optional) The date and time when the policy becomes active, in ISO format (for example, 2022-07-12T00:00:00.000Z)"},"endDate":{"type":"string","description":"(Optional) The date and time when the policy expires, in ISO format (for example, 2022-10-10T00:00:00.000Z)"},"csp":{"type":"string","description":"The cloud environment that the policy applies to ('AWS','GCP','AZURE')"},"roles":{"type":"array","items":{"type":"object","properties":{"entityId":{"type":"string","description":"AWS: The IAM role ARN (for example, arn:aws:iam::123451234567:role/examplerole) or AWS IAM Identity Center permission set (for example, arn:aws:sso:::permissionSet/ssoins-12345aabbccc3b3b/ab-12cdef34ger1234n)\n\nAzure resource: Path of the roleDefinition in Azure (for example, /subscriptions/xxxxxxx/providers/Microsoft.Authorization/roleDefinitions/c025889f-8102-4ebf-b32c-fc0c6f0c6bd9)\n\nAzure - Microsoft Entra ID: The unique identifier of the cloud role (a GUID)\n\nGoogle Cloud: The cloud role name and hierarchy structure (for example, projects/dev/roles/cloudsql.client)"},"workspaceType":{"type":"string","description":"AWS: Supported value: 'account' (required only in AWS IAM Identity Center)\n\nAzure: Supported values: 'directory', 'management_group', 'subscription', 'resource_group' and 'resource'\n\nGoogle Cloud: Supported values: 'gcp_organization', 'folder', and 'project'"},"entitySourceId":{"type":"string","description":"AWS: The account ID associated with the role (for example, 123451234567)\n\nAzure resource: The scope where the role is applied, provided as a path (for example, the path for a management group scope may be providers/Microsoft.Management/managementGroups/1234abcd-abc1-123a-abcd-b3f62876ec6aw, while the path for a subscription scope or lower may be /subscriptions/1234abcd-123a-12ab-ace1-f3263530fd72/resourceGroups/cloud-shell-storage-westeurope/providers/Microsoft.Storage/storageAccounts/csb10032002529a3d5e)\n\nAzure - Microsoft Entra ID: Azure tenant ID\n\nGoogle Cloud: The ID of the source organization, folder, or project depending on the workspaceType (for example, 123457654321 or cybrsca-dev)"},"organizationId":{"type":"string","description":"AWS: Management account ID (required only for AWS organizations (with or without IAM Identity Center))\n\nAzure - Microsoft Entra ID: Azure tenant ID (UUID)\n\nGoogle Cloud: Google Cloud organization ID"}},"description":"Specify at least one cloud role entity"}},"identities":{"type":"array","items":{"type":"object","properties":{"entityName":{"type":"string","description":"Full user principal name (for example, user@domain.com)"},"entitySourceId":{"type":"string","description":"User directory service ID (UUID format, for example 12A3B4C0-A3B0-465A-ABC3-12345D67B89E)"},"entityClass":{"type":"string","description":"Supported values: 'user', 'role', and 'group'"}},"description":"Specify at least one CyberArk identity cloud entity"}},"accessRules":{"type":"object","properties":{"days":{"type":"array","description":"Days of the week, comma-separated (for example, [Monday, Tuesday, Wednesday])","items":{"type":"string"}},"fromTime":{"type":"string","description":"(Optional) Time of day when the policy becomes active in hh:mm:ss 24-hr format (for example, 7:00 AM is 07:00:00)","nullable":true},"toTime":{"type":"string","description":"(Optional) Time of day when the policy becomes inactive in hh:mm:ss 24-hr format (for example, 8:00 PM is 20:00:00)","nullable":true},"maxSessionDuration":{"type":"integer","description":"Maximum allowed length (in hours) of the user session (1 - 24 hours, not more than the time defined in the AWS IAM roles or permission sets)"},"timeZone":{"type":"string","description":"A time zone identifier representing the time zone of the client host machine (for example, Asia/Jerusalem)"}},"description":"(Optional) Set of rules that specify exactly when the policy is active"}},"x-examples":{"Create AWS IAM policy - AWS account":{"csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}},"examples":{"Create AWS IAM policy - AWS account":{"value":{"csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create AWS IAM Identity Center policy":{"value":{"csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:sso:::permissionSet/ssoins-12345c6f78cd9f5e/ps-12f3a456f1234567","workspaceType":"account","entitySourceId":"123451234567","organizationId":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create AWS IAM policy - AWS org without Identity Center":{"value":{"csp":"AWS","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123456789012:role/example-role","entitySourceId":"123456789012","organizationId":"987654321098"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Azure-Microsoft Entra ID policy - directory-level access":{"value":{"csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"1a2b3c4d-2cd3-44c7-9d02-a6bc2d5ef5g3","workspaceType":"directory","entitySourceId":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Azure resource policy - management group access":{"value":{"csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"/providers/Microsoft.Authorization/roleDefinitions/1a2b3c4d-2cd3-44c7-9d02-a6bc2d5ef5g3","workspaceType":"management_group","entitySourceId":"providers/Microsoft.Management/managementGroups/example-management-group","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Azure resource policy - subscription access":{"value":{"csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/providers/Microsoft.Authorization/roleDefinitions/12345d67-12f3-1234-b1c2-d1ce2e3456dd","workspaceType":"subscription","entitySourceId":"subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Azure resource policy - resource group access":{"value":{"csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/providers/Microsoft.Authorization/roleDefinitions/18d7d88d-d35e-4fb5-a5c3-7773c20a72d9","workspaceType":"resource_group","entitySourceId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/resourceGroups/example-resource-group","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Azure resource policy - resource access":{"value":{"csp":"AZURE","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/providers/Microsoft.Authorization/roleDefinitions/1f12345f-1234-56b7-9ce7-9b123b123ba4","workspaceType":"resource","entitySourceId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/resourceGroups/example-resource-group/providers/Microsoft.ManagedIdentity/userAssignedIdentities/example-resource","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"},{"entityName":"example-group","entitySourceId":"F1G2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"group"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Google Cloud policy - whole organization":{"value":{"csp":"GCP","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"roles/accessapproval.invalidator","workspaceType":"gcp_organization","entitySourceId":"123451234567","organization_id":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Google Cloud policy - folder access":{"value":{"csp":"GCP","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"roles/accessapproval.invalidator","workspaceType":"folder","entitySourceId":"1234567841876","organization_id":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Create Google Cloud policy - project access":{"value":{"csp":"GCP","name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"roles/actions.Admin","workspaceType":"project","entitySourceId":"example-project-name","organization_id":"123451234567"}],"identities":[{"entityName":"John.D@company.com","entitySourceId":"A1B2C3D4-1AB2-465F-AB03-12345D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"08:00","toTime":"10:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}}}}},"Discovery":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"csp":{"type":"string","description":"The cloud provider associated with the workspace to discover \n\nSupported values:\nAWS = 'AWS', GCP = 'GCP', AZURE = 'AZURE'"},"organization_id":{"type":"string","description":"The ID of the organization to discover \n\n-AWS: The AWS organization ID \n\n-Azure: Azure tenant ID \n\n-GCP: Google Cloud organization ID"},"account_info":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the workspace to discover \n\n-AWS: AWS account ID \n\n-Azure: Management group, subscription, or resource group ID \n\n-GCP: Google Cloud project ID"},"new_account":{"type":"boolean","description":"Indicates whether the account is new to an organization, and has not yet been onboarded. \n\nSupported values: \n\n-false (default): The account is not new - it was previously onboarded. In this case, the workspace isn't rediscovered, but a scan for roles is run \n\n-true: The account is new to the organization, meaning that you're onboarding a new AWS account that belongs to an already onboarded AWS organization, a new GCP project that belongs to an already onboarded Google Cloud organization, or a new management group / subscription that belongs to an already onboarded Microsoft Entra ID directory."}},"description":"Details about the workspace to discover"}},"x-examples":{"Discover AWS account in an AWS organization":{"value":{"csp":"AWS","organization_id":"123457654321","account_info":{"id":"987654123456","new_account":true}}}}},"examples":{"Discover AWS account in an AWS organization":{"value":{"csp":"AWS","organization_id":"123457654321","account_info":{"id":"987654123456","new_account":true}}},"Discover Google Cloud project in a GCP organization":{"value":{"csp":"GCP","organization_id":"123457654321","account_info":{"id":"xyz-gcp-project","new_account":true}}},"Discover Azure subscription in a Microsoft Entra ID directory":{"value":{"csp":"AZURE","organization_id":"abcde123-abcd-123a-abcd-a1b23456cd7e","account_info":{"id":"aaaa1111-1111-111a-aaaa-aaaa1111aa1a","new_account":true}}}}}}},"Validate":{"description":"Provide the ID of the access policy that you want to validate.","content":{"application/json":{"schema":{"type":"object","properties":{"policyId":{"type":"string","description":"The ID of the access policy to be validated"}},"x-examples":{"Validate AWS IAM Identity Center policy":{"policyId":"aws_sso_1234abcd-123a-1ab2-a12b-12f1b179e053"}}},"example":{"policyId":"aws_sso_1234abcd-123a-1ab2-a12b-12f1b179e053"}}}},"Edit-Policy":{"description":"","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/Edit-Policy-v2"},{"$ref":"#/components/schemas/Edit-Policy-v1"}]},"examples":{"Edit AWS IAM policy - AWS account":{"value":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"arn:aws:iam::123451234567:role/examplerole","entitySourceId":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Edit Azure resource policy for specific resource":{"value":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/providers/Microsoft.Authorization/roleDefinitions/1f12345f-1234-56b7-9ce7-9b123b123ba4","workspaceType":"resource","entitySourceId":"/subscriptions/c1234567-ebe6-49f6-a190-b0a8f8753b57/resourceGroups/example-resource-group/providers/Microsoft.ManagedIdentity/userAssignedIdentities/example-resource","organization_id":"a1b2c3d4-66d2-4bc9-abc2-123456gg1234"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}},"Edit Google Cloud policy for specific project":{"value":{"name":"finance","description":"End-of-year calculations","startDate":"2022-07-12T00:00:00.000Z","endDate":"2022-10-10T00:00:00.000Z","roles":[{"entityId":"roles/actions.Admin","workspaceType":"project","entitySourceId":"example-project-name","organization_id":"123451234567"}],"identities":[{"entityName":"John.D","entitySourceId":"09B9A9B0-6CE8-465F-AB03-65766D55B05E","entityClass":"user"}],"accessRules":{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"fromTime":"15:00","toTime":"17:00","maxSessionDuration":1,"timeZone":"Asia/Jerusalem"}}}}}}},"RevokeSessionsByIdsRequest":{"content":{"application/json":{"schema":{"required":["sessionIds"],"type":"object","properties":{"sessionIds":{"maxItems":100,"minItems":1,"type":"array","description":"The IDs of the sessions to be revoked.","items":{"type":"string"}}}}}}},"ElevateAccessRequest":{"content":{"application/json":{"schema":{"required":["csp","targets"],"type":"object","properties":{"organizationId":{"type":"string","description":"The ID of the organization that contains workspaces you want to access.<br>All specified workspaces and roles must be part of the specified organization.\nNot relevant for standalone AWS accounts."},"csp":{"type":"string","description":"The cloud provider that hosts the workspaces for which access is required.","enum":["AWS","AZURE","GCP"]},"targets":{"maxItems":5,"minItems":1,"type":"array","description":"The targets (workspace + role) for which access is being requested.<br>The maximum number of targets for which elevated access can be requested varies:\n- A maximum of 1 target can be provided when requesting access to a standalone AWS account.\n- A maximum of 1 target can be provided when requesting access to an AWS account that is part of an AWS organization.\n- A maximum of 5 targets can be provided when requesting access to GCP folders or projects that are part of the same GCP organization, if connection with multiple roles is enabled. If not, the maximum is 1.\n- A maximum of 5 targets can be provided when requesting access to Azure subscriptions or resource groups or resources that are part of the same management group, if connection with multiple roles is enabled. If not, the maximum is 1.\n- A maximum of 3 targets can be provided when requesting access to Azure Entra ID if connection with multiple roles is enabled. If not, the maximum is 1.","items":{"oneOf":[{"$ref":"#/components/schemas/TargetWithRoleId"},{"$ref":"#/components/schemas/TargetWithRoleName"}]}}}}}}},"GroupElevateAccessRequest":{"content":{"application/json":{"schema":{"required":["csp","directoryId","targets"],"type":"object","properties":{"directoryId":{"type":"string","description":"The ID of the directory that contains the group for which you're requesting just-in-time membership"},"csp":{"type":"string","description":"The cloud provider that hosts the groups.","enum":["AZURE"]},"targets":{"maxItems":5,"minItems":1,"type":"array","description":"An array of target groups  for which you want just-in-time membership.","items":{"$ref":"#/components/schemas/TargetWithGroupId"}}}}}}},"ScanRequestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanRequest"},"examples":{"example1":{"summary":"Scan all AWS accounts (standalone and in organizations)","value":{"cloudProvider":0,"accountType":"All"}},"example10":{"summary":"Scan all Google Cloud projects","value":{"cloudProvider":1,"accountType":"All"}},"example11":{"summary":"Scan all Microsoft Entra ID directories","value":{"cloudProvider":2,"accountType":"All"}},"example2":{"summary":"Scan a specific standalone AWS account","value":{"cloudProvider":0,"accountType":"Specific","entityIds":[{"account_id":"<Account ID>"}]}},"example3":{"summary":"Scan a specific AWS account in an organization","value":{"cloudProvider":0,"accountType":"Specific","entityIds":[{"org_id":"<Management account ID>","account_id":"<Account ID>"}]}},"example4":{"summary":"Scan a specific Google Cloud project","value":{"cloudProvider":1,"accountType":"Specific","entityIds":[{"org_id":"<Organization ID>","account_id":"<Project ID>"}]}},"example5":{"summary":"Scan a specific Azure subscription","value":{"cloudProvider":2,"accountType":"Specific","entityIds":[{"org_id":"<Azure tenant ID>","account_id":"<Subscription ID>"}]}},"example50":{"summary":"Scan a specific Microsoft Entra ID directory","value":{"cloudProvider":2,"accountType":"Specific","entityIds":[{"org_id":"<Azure tenant ID>","account_id":"<Azure tenant ID>"}]}}}}}},"SimplifiedOnboardingRequestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimplifiedOnboardingPublicRequest"},"examples":{"Create web app for AWS IAM (standalone account)":{"value":{"appType":"AWS IAM","appName":"SA AWS Account 1234567890","appMetadata":{"workspaceId":"<account ID>","establishAutoTrust":false}}},"Create web apps for accounts in AWS organization":{"value":{"appType":"AWS IAM","appName":"string","appMetadata":{"workspaceId":"<Management account ID>","useIdentityAsIdp":false}}},"Create web app for AWS IAM Identity Center":{"value":{"appType":"AWS IdC","appName":"AWS IAM Identity Center","appMetadata":{"workspaceId":"<Management account ID>","useIdentityAsIdp":false}}},"Create web app for Azure":{"value":{"appType":"Azure","appName":"Azure Microsoft Entra ID","appMetadata":{"workspaceId":"<Directory ID>"}}},"Create web app for GCP":{"value":{"appType":"GCP","appName":"Google Cloud console","appMetadata":{"workspaceId":"<Organization ID>","useIdentityAsIdp":false}}}}}}},"ApprovalConfigRequestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalConfigRequest"},"examples":{"ApprovalChannelInApp":{"summary":"Configure approvals to be handled via in-platform channel","description":"Sets approvals to be channeled via CyberArk's in-platform approval channel","value":{"ApprovalChannel":"In-platform"}},"ApprovalChannelExternal":{"summary":"Configure approvals to be handled via external channel","description":"Sets approvals to be channeled via an external approval channel","value":{"ApprovalChannel":"External"}}}}}}},"securitySchemes":{"bearerOAuth":{"type":"http","scheme":"bearer"},"UserPassBasicAuth":{"type":"http","scheme":"basic"}}},"x-tagGroups":[{"name":"Policy APIs","tags":["Policies"]},{"name":"Access APIs","tags":["Access"]},{"name":"Authentication APIs","tags":["Authentication"]},{"name":"Cloud Scan APIs","tags":["Cloud scan"]},{"name":"Integration APIs","tags":["Integration"]},{"name":"Web App Creation APIs","tags":["WebAppCreation"]}]}